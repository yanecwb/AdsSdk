export default async () => {
  const w = window as any;
  w.outAdsClick = false;
  w.outAdsCountEnd = false;
  const body = document.querySelector("body") as HTMLBodyElement;
  body.style.overflow = "hidden";
  const div = document.createElement("div");
  div.className = "shadow_container";
  document.body.appendChild(div);
  w.shadowRoot = div.attachShadow({ mode: "closed" });
  w.shadowRoot.innerHTML = `
  <style>
    body{background-color:#f0f2f5;display:flex;justify-content:center;align-items:center;min-height:100vh;margin:0;}.ads_container{width:100vw;height:100vh;background-image:linear-gradient(60deg,#f3ebbb 0%,#abecd6 100%);padding-top:40px;box-sizing:border-box;position:fixed;z-index:99999999;top: 0;}.ads_container::before{height:100%;background-image:url("https://telegram.org/img/tgme/pattern.svg");background-position:50%;background-repeat:no-repeat;background-size:cover;content:"";filter:brightness(0) saturate(100%) invert(67%) sepia(28%) saturate(407%)
        hue-rotate(66deg) brightness(87%) contrast(88%);inset:0;mix-blend-mode:normal;opacity:1;position:absolute;}._post_18txr_1{animation-duration:0.1s;animation-fill-mode:forwards;animation-name:_show_18txr_1;animation-play-state:running;animation-timing-function:ease-out;display:flex;position:relative;}._channel_18txr_21{align-self:end;cursor:pointer;height:40px;margin:0 4px 0 10px;width:40px;}._icon_18txr_29{background-color:#f0f0f0;border-radius:100%;height:40px;object-fit:cover;width:40px;}._tail_18txr_37{align-self:end;color:white;display:flex;height:10px;width:6px;z-index:1;}._tail_18txr_37 svg{height:10px;width:6px;}._message_18txr_55{background-color:white;border-radius:18px 18px 7px 0;box-shadow:0 1px 2px #00000029;display:flex;flex-direction:column;position:relative;width:270px;padding:3px;padding-bottom:5px;box-sizing:border-box;}._message_18txr_55 img{border-radius:16px 16px 5px 5px;object-fit:cover;height:100%;width:100%;}._button_1ykdg_1{animation-duration:0.5s;animation-fill-mode:forwards;animation-name:_show_1ykdg_1;animation-play-state:running;animation-timing-function:cubic-bezier(0.2,0,0,1);background-color:transparent;border:none;border-radius:6px 6px 15px 15px;color:white;cursor:pointer;font-size:15px;height:40px;letter-spacing:0.03em;line-height:40px;margin:4px 0 0 60px;overflow:hidden;padding:0 12px;position:relative;text-align:center;text-overflow:ellipsis;white-space:nowrap;width:270px;z-index:1;box-sizing:border-box;}._button_1ykdg_1:before{background:rgb(84 140 73 / 50%);border-radius:7px 7px 15px 15px;content:"";inset:0;position:absolute;z-index:-1;}@keyframes _show_1ykdg_1{0%{opacity:0;transform:translateY(-20px) scale(0.1);}100%{opacity:1;transform:translateY(0) scale(1);}}._timer_1s77f_1{padding:0 12px;position:relative;width:fit-content;z-index:1;margin:10px 0;}._label_dbgk3_1{border-radius:12px;cursor:pointer;padding:0 12px;position:relative;width:fit-content;z-index:1;}._label_dbgk3_1:before,._timer_1s77f_1::before{background:rgb(84 140 73 / 50%);border-radius:12px;content:"";inset:0;position:absolute;z-index:-1;}._text_dbgk3_19,._time_1s77f_1{color:white;font-size:13;line-height:23px;text-align:center;vertical-align:top;}.flex_center{display:flex;flex-direction:column;justify-content:center;align-items:center;}a{text-decoration:none;color:white;}.tooltip-container{position:relative;display:flex;margin-left:60px;animation-duration:0.5s;animation-fill-mode:forwards;animation-name:_show_1ykdg_1;animation-play-state:running;animation-timing-function:cubic-bezier(0.2,0,0,1);background-color:transparent;width:270px;top:10px;height:26px;}.tooltip-text{display:flex;justify-content:center;align-items:center;font-size:12px;font-weight:bold;color:#333;background-color:white;border-radius:8px;padding:2px 10px;width:150px;box-sizing:border-box;}.tooltip-text::before{content:"";position:absolute;top:-2px;left:50%;transform:translateX(-50%);border-left:6px solid transparent;border-right:6px solid transparent;border-bottom:6px solid white;}</style><div class=ads_container><div class=_post_18txr_1><div class=_channel_18txr_21><img alt=channel src=https://ooo.0x0.ooo/2024/12/02/OLxLBN.png class=_icon_18txr_29></div><div class=_tail_18txr_37><svg fill=currentColor viewBox="0 0 6 10"xmlns=http://www.w3.org/2000/svg><path d="M0 9c4.5-.5 6-5.5 6-9v10H0V9Z"></path></svg></div><div class=_message_18txr_55><div style=height:220px;width:100%><img alt=""src=https://ooo.0x0.ooo/2024/12/02/OLx4Ja.png></div><div style="font-size:14px;color:#333;padding:0 8px"><div style="padding:10px 0">Games, rewards, TON, and USDT are waiting for you! Join now and start earning your rewards today! Don’t miss out on this exciting opportunity!</div><div>TON and USDT are waiting for you!</div></div></div></div><div class=btn_container></div><div class=flex_center style=position:fixed;bottom:20px;width:100vw><div class=_timer_1s77f_1><span class=_time_1s77f_1>00:15</span></div><div class=_label_dbgk3_1><span class=_text_dbgk3_19>@adspaw – ads in Telegram</span></div></div></div>
   `;
  const script = document.createElement("script");
  script.className = "shadow_script";
  script.innerHTML = `
  (()=>{let t="00:00",e=15;!function(){const o=setInterval(()=>{if(e>0){if(t=function(t){const e=Math.floor(t/3600),o=Math.floor(t%3600/60),n=t%60;let r;return r=e>0?String(e).padStart(2,"0")+":"+String(o).padStart(2,"0")+":"+String(n).padStart(2,"0"):String(o).padStart(2,"0")+":"+String(n).padStart(2,"0")}(--e),window.shadowRoot.querySelector("._time_1s77f_1").innerText=t,15-e==2&&(window.shadowRoot.querySelector(".btn_container").innerHTML=\`<a href="https://psegeevalrat.net/4/8256878" target="_blank"><div class="_button_1ykdg_1">Go Play</div></a>\`,window.shadowRoot.querySelector(".btn_container").addEventListener("click",()=>{window.outAdsClick=!0})),15-e==5){const t=window.document.createElement("div");t.innerHTML=\`<div class="tooltip-container flex_center"><div class="tooltip-text">Click to get reward</div></div>\`,window.shadowRoot.querySelector(".btn_container a").appendChild(t)}}else clearInterval(o),t="00:00",document.querySelector(".shadow_container").remove(),document.querySelector(".shadow_script").remove(),document.querySelector("body").style.overflow="",window.outAdsCountEnd=!0},1e3)}()})();
  `;

  body.appendChild(script);
};
